{"version":3,"file":"commonHelpers.js","sources":["../src/js/pixabay-api.js","../src/js/render-functions.js","../src/main.js"],"sourcesContent":["export function getPhotosByRequest(userRequest) {\n    const API_KEY = '42321228-2dc7965d40466a0a646776a28';\n    \n    const BASE_URL = 'https://pixabay.com';\n    const END_POINTS = '/api/';\n    const PARAMS = `?key=${API_KEY}&q=${userRequest}&image_type=photo&orientation=horizontal&safesearch=true`;\n\n    const url = BASE_URL + END_POINTS + PARAMS;\n\n    return fetch(url).then(res => res.json());\n}","'use strict'\n\nimport simpleLightbox from \"simplelightbox\";\n\nlet lightbox;\n\nexport const refs = {\n    form: document.querySelector('.form'),\n    input: document.querySelector('.input-search'),\n    button: document.querySelector('.button'),\n    gallery: document.querySelector('.gallery'),\n    loader: document.querySelector('.loader'),\n}\n\nexport function photosTemplate(photos) {\n    return photos\n    .map(data => {\n        return `\n        <li class=\"gallery-item\"><a href=\"${data.largeImageURL}\">\n        <img class=\"gallery-image\" src=\"${data.webformatURL}\" alt=\"${data.tags}\"></a>\n        <div class=\"info\">\n        <p><span class=\"info-text\">Likes</span>${data.likes}</p>\n        <p><span class=\"info-text\">Views</span>${data.views}</p>\n        <p><span class=\"info-text\">Comments</span>${data.comments}</p>\n        <p><span class=\"info-text\">Downloads</span>${data.downloads}</p>\n        </div>\n        </li>\n        `;\n    })\n    .join('');\n}\n\nexport function renderPhotos(photos) {\n    const galleryMarkup = photosTemplate(photos);\n    refs.gallery.innerHTML = galleryMarkup;\n\n    if (typeof lightbox !== 'undefined') {\n        lightbox.refresh();\n    } else {\n        lightbox = new simpleLightbox('.gallery a', {\n            captionsData: 'alt',\n            captionsDelay: 250,\n        });\n    }\n}","'use strict'\n\nimport iziToast from \"izitoast\";\nimport \"izitoast/dist/css/iziToast.min.css\";\nimport SimpleLightbox from \"simplelightbox\";\nimport \"simplelightbox/dist/simple-lightbox.min.css\";\n\nimport { getPhotosByRequest } from './js/pixabay-api';\nimport { renderPhotos } from './js/render-functions';\nimport { refs } from './js/render-functions';\n\n\nrefs.loader.style.display = 'none';\n\nrefs.form.addEventListener('submit', onFormSubmit);\n\nfunction onFormSubmit(e) {\n    e.preventDefault();\n    if (refs.input.value.trim() === '' || refs.input.value.trim().lenght === 0) {\n        return;\n    }\n    refs.gallery.innerHTML = '';\n    refs.loader.style.display = 'block';\n    \n    const userRequest = e.target.elements.search.value;\n    getPhotosByRequest(userRequest)\n    .then(data => {\n        if (data.hits.lenght === 0) {\n            clearGallery();\n            iziToast.error({\n                message:\n                `Sorry, there are no images matching your search query. Please try again!`,\n                position: 'topRight',\n                transitionIn: 'fadeInLeft',\n            });\n        } else {\n            renderPhotos(data.hits);\n        }\n    })\n    .catch(err => {\n        alert(err);\n    })\n    .finally(() => {\n        refs.loader.style.display = 'none';\n    });\n    \n    e.target.reset();\n}\n\nfunction clearGallery() {\n    refs.gallery.innerHTML = '';\n}"],"names":["getPhotosByRequest","userRequest","API_KEY","BASE_URL","END_POINTS","PARAMS","url","res","lightbox","refs","photosTemplate","photos","data","renderPhotos","galleryMarkup","simpleLightbox","onFormSubmit","e","clearGallery","iziToast","err"],"mappings":"6vBAAO,SAASA,EAAmBC,EAAa,CAC5C,MAAMC,EAAU,qCAEVC,EAAW,sBACXC,EAAa,QACbC,EAAS,QAAQH,CAAO,MAAMD,CAAW,2DAEzCK,EAAMH,EAAWC,EAAaC,EAEpC,OAAO,MAAMC,CAAG,EAAE,KAAKC,GAAOA,EAAI,KAAI,CAAE,CAC5C,CCNA,IAAIC,EAEG,MAAMC,EAAO,CAChB,KAAM,SAAS,cAAc,OAAO,EACpC,MAAO,SAAS,cAAc,eAAe,EAC7C,OAAQ,SAAS,cAAc,SAAS,EACxC,QAAS,SAAS,cAAc,UAAU,EAC1C,OAAQ,SAAS,cAAc,SAAS,CAC5C,EAEO,SAASC,EAAeC,EAAQ,CACnC,OAAOA,EACN,IAAIC,GACM;AAAA,4CAC6BA,EAAK,aAAa;AAAA,0CACpBA,EAAK,YAAY,UAAUA,EAAK,IAAI;AAAA;AAAA,iDAE7BA,EAAK,KAAK;AAAA,iDACVA,EAAK,KAAK;AAAA,oDACPA,EAAK,QAAQ;AAAA,qDACZA,EAAK,SAAS;AAAA;AAAA;AAAA,SAI9D,EACA,KAAK,EAAE,CACZ,CAEO,SAASC,EAAaF,EAAQ,CACjC,MAAMG,EAAgBJ,EAAeC,CAAM,EAC3CF,EAAK,QAAQ,UAAYK,EAErB,OAAON,EAAa,IACpBA,EAAS,QAAO,EAEhBA,EAAW,IAAIO,EAAe,aAAc,CACxC,aAAc,MACd,cAAe,GAC3B,CAAS,CAET,CChCAN,EAAK,OAAO,MAAM,QAAU,OAE5BA,EAAK,KAAK,iBAAiB,SAAUO,CAAY,EAEjD,SAASA,EAAaC,EAAG,CAErB,GADAA,EAAE,eAAc,EACZR,EAAK,MAAM,MAAM,KAAM,IAAK,IAAMA,EAAK,MAAM,MAAM,OAAO,SAAW,EACrE,OAEJA,EAAK,QAAQ,UAAY,GACzBA,EAAK,OAAO,MAAM,QAAU,QAE5B,MAAMR,EAAcgB,EAAE,OAAO,SAAS,OAAO,MAC7CjB,EAAmBC,CAAW,EAC7B,KAAKW,GAAQ,CACNA,EAAK,KAAK,SAAW,GACrBM,IACAC,EAAS,MAAM,CACX,QACA,2EACA,SAAU,WACV,aAAc,YAC9B,CAAa,GAEDN,EAAaD,EAAK,IAAI,CAElC,CAAK,EACA,MAAMQ,GAAO,CACV,MAAMA,CAAG,CACjB,CAAK,EACA,QAAQ,IAAM,CACXX,EAAK,OAAO,MAAM,QAAU,MACpC,CAAK,EAEDQ,EAAE,OAAO,OACb,CAEA,SAASC,GAAe,CACpBT,EAAK,QAAQ,UAAY,EAC7B"}